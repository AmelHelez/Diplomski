<div class="row">
  <div class="col-6 m-auto">
    <div class="card m-auto">
      <div class="card-header" style="color: white;">
        <h3>Add Appointment</h3>
      </div>
      <div class="card-body">
        <form [formGroup]="addAppointmentForm" (ngSubmit)="onSubmit()">
          <div class="form-group col-12">
            <mat-form-field>
              <input matInput [matDatepicker]="picker" formControlName="date" [min]="minDate" [max]="maxDatee" placeholder="Choose a date">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker ></mat-datepicker>
            </mat-form-field>
            <div class="error-block" *ngIf="appointmentDate.touched && !appointmentDate.value">
              Please add date for your appointment
            </div>
            <div class="error-block" *ngIf="appointmentDate.value == datum && (sati > 19 || sati < 8)">
              Please add correct date
            </div>
          </div>

          <div class="form-group col-12">
            <label>Choose employee</label>
              <select class="form-control" formControlName="employee">
                <option value="">--Select Employee--</option>
                <option *ngFor="let e of empList" value={{e.id}}>
                 {{e.name}}
                </option>
              </select>
               <div class="error-block" *ngIf="!employeeControl.valid && (employeeControl.touched)">
              Please choose employee
              </div>
            </div>

            <div *ngIf="appointmentDate.value && employeeControl.value" class="form-group col-12">
               <label for="time">Choose time</label>
               <timepicker formControlName="time"></timepicker>
               <!-- <div class="error-block" *ngIf="appointmentTime.touched">
                Please add correct time
                </div> -->
           </div>

          <div class="form-group col-12">
            <label>Treatment type</label>
              <select class="form-control" formControlName="treatment">
                <option value="">--Select--</option>
                <option *ngFor="let t of treatments" value={{t.treatment.id}}>
                 {{t.treatment.name}} {{t.price}}
                </option>
              </select>

               <div class="error-block" *ngIf="!treatment.valid && treatment.touched">
              Please select treatment
              </div>
            </div>

            <div *ngIf="treatment.value" class="form-group col-12">
              <label>Price</label>
              <div *ngFor="let t of treatments">
                <p *ngIf="treatment.value == t.treatment.id" style="font-style: italic; font-weight: 500;">{{t.price}} BAM</p>
              </div>
            </div>

            <div *ngIf="whichRole() == 2" class="form-group col-12">
              <label>Add client</label>
                <select class="form-control" formControlName="client">
                  <option value="">--Select Client--</option>
                  <option *ngFor="let c of clientList" value={{c.id}}>
                   {{c.name}}
                  </option>
                </select>
              </div>


          <div class="form-group col-12">
            <button [disabled]="!addAppointmentForm.valid" type="submit" class="btn btn-primary">Save</button>
            <button type="button" class="btn btn-secondary ml-2">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
